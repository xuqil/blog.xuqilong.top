(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{399:function(r,t,n){"use strict";n.r(t);var o=n(11),e=Object(o.a)({},(function(){var r=this,t=r.$createElement,n=r._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[n("h1",{attrs:{id:"asyncio-异步-i-o"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#asyncio-异步-i-o"}},[r._v("#")]),r._v(" asyncio --- 异步 I/O")]),r._v(" "),n("p",[r._v("asyncio 是用来编写 "),n("strong",[r._v("并发")]),r._v(" 代码的库，使用 "),n("strong",[r._v("async/await")]),r._v(" 语法。")]),r._v(" "),n("p",[r._v("asyncio 被用作多个提供高性能 Python 异步框架的基础，包括网络和网站服务，数据库连接库，分布式任务队列等等。")]),r._v(" "),n("p",[r._v("asyncio 往往是构建 IO 密集型和高层级 "),n("strong",[r._v("结构化")]),r._v(" 网络代码的最佳选择。")]),r._v(" "),n("p",[r._v("asyncio 提供一组 "),n("strong",[r._v("高层级")]),r._v(" API 用于:")]),r._v(" "),n("ul",[n("li",[r._v("并发地 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html#coroutine",target:"_blank",rel:"noopener noreferrer"}},[r._v("运行 Python 协程"),n("OutboundLink")],1),r._v(" 并对其执行过程实现完全控制;")]),r._v(" "),n("li",[r._v("执行 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-stream.html#asyncio-streams",target:"_blank",rel:"noopener noreferrer"}},[r._v("网络 IO 和 IPC"),n("OutboundLink")],1),r._v(";")]),r._v(" "),n("li",[r._v("控制 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html#asyncio-subprocess",target:"_blank",rel:"noopener noreferrer"}},[r._v("子进程"),n("OutboundLink")],1),r._v(";")]),r._v(" "),n("li",[r._v("通过 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-queue.html#asyncio-queues",target:"_blank",rel:"noopener noreferrer"}},[r._v("队列"),n("OutboundLink")],1),r._v(" 实现分布式任务;")]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-sync.html#asyncio-sync",target:"_blank",rel:"noopener noreferrer"}},[r._v("同步"),n("OutboundLink")],1),r._v(" 并发代码;")])]),r._v(" "),n("p",[r._v("此外，还有一些 "),n("strong",[r._v("低层级")]),r._v(" API 以支持 "),n("em",[r._v("库和框架的开发者")]),r._v(" 实现:")]),r._v(" "),n("ul",[n("li",[r._v("创建和管理 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio-event-loop",target:"_blank",rel:"noopener noreferrer"}},[r._v("事件循环"),n("OutboundLink")],1),r._v("，以提供异步 API 用于 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.create_server",target:"_blank",rel:"noopener noreferrer"}},[n("code",[r._v("网络化")]),n("OutboundLink")],1),r._v(", 运行 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.subprocess_exec",target:"_blank",rel:"noopener noreferrer"}},[n("code",[r._v("子进程")]),n("OutboundLink")],1),r._v("，处理 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html#asyncio.loop.add_signal_handler",target:"_blank",rel:"noopener noreferrer"}},[n("code",[r._v("OS 信号")]),n("OutboundLink")],1),r._v(" 等等;")]),r._v(" "),n("li",[r._v("使用 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-protocol.html#asyncio-transports-protocols",target:"_blank",rel:"noopener noreferrer"}},[r._v("transports"),n("OutboundLink")],1),r._v(" 实现高效率协议;")]),r._v(" "),n("li",[r._v("通过 async/await 语法 "),n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-future.html#asyncio-futures",target:"_blank",rel:"noopener noreferrer"}},[r._v("桥接"),n("OutboundLink")],1),r._v(" 基于回调的库和代码。")])]),r._v(" "),n("p",[r._v("参考引用")]),r._v(" "),n("p",[r._v("高层级 API")]),r._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-task.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("协程与任务"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-stream.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("流"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-sync.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("同步原语"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-subprocess.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("子进程"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-queue.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("队列集"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-exceptions.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("异常"),n("OutboundLink")],1)])]),r._v(" "),n("p",[r._v("低层级 API")]),r._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-eventloop.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("事件循环"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-future.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("Futures"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-protocol.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("传输和协议"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-policy.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("策略"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-platforms.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("平台支持"),n("OutboundLink")],1)])]),r._v(" "),n("p",[r._v("指南与教程")]),r._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-api-index.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("高级API索引"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-llapi-index.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("底层API目录"),n("OutboundLink")],1)]),r._v(" "),n("li",[n("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/asyncio-dev.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("用 asyncio 开发"),n("OutboundLink")],1)])]),r._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("import")]),r._v(" asyncio\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("async")]),r._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("def")]),r._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[r._v("main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(":")]),r._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[r._v("'Hello ...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("await")]),r._v(" asyncio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(".")]),r._v("sleep"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[r._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[r._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[r._v("'... World!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[r._v("# Python 3.7+")]),r._v("\nasyncio"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(".")]),r._v("run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),r._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[r._v(")")]),r._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);